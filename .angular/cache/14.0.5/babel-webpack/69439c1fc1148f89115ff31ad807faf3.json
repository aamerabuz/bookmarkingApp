{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/aamer/Desktop/cambium/bookmarking-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Colors } from '../../models/colors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/app-services.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"f\"];\n\nconst _c1 = function (a0) {\n  return {\n    \"color\": a0\n  };\n};\n\nfunction EditMarkComponent_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const color_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", color_r2.value);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(4, _c1, color_r2.value))(\"selected\", (ctx_r1.mark == null ? null : ctx_r1.mark.color) === color_r2.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", color_r2.key, \" \");\n  }\n}\n\nexport class EditMarkComponent {\n  constructor(appService) {\n    this.appService = appService;\n    this.mark = {\n      _id: \"\",\n      title: \"\",\n      description: \"\",\n      color: \"\",\n      url: \"\",\n      categoryId: \"\"\n    };\n    this.colors = Colors;\n  }\n\n  ngOnInit() {\n    this.appService.getSelectedMarkForEdit().subscribe(data => {\n      this.mark = data;\n      console.log(this.mark);\n    });\n  }\n\n  updateMarkSubmited() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.form.valid) {\n        const title = _this.form.value.title;\n        const description = _this.form.value.description;\n        const color = _this.form.value.color;\n        const url = _this.form.value.url;\n        const _id = _this.form.value.id;\n        yield _this.appService.updateMark(_id, title, description, url, color).then(data => {\n          if (data?._id) {\n            _this.appService.updateMarks(data, 'update');\n          }\n        });\n      } else {\n        console.log('not valid !!!');\n      }\n    })();\n  }\n\n}\n\nEditMarkComponent.ɵfac = function EditMarkComponent_Factory(t) {\n  return new (t || EditMarkComponent)(i0.ɵɵdirectiveInject(i1.AppServicesService));\n};\n\nEditMarkComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditMarkComponent,\n  selectors: [[\"app-edit-mark\"]],\n  viewQuery: function EditMarkComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\n    }\n  },\n  decls: 26,\n  vars: 8,\n  consts: [[1, \"form-section\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"text-center\", \"header-title\"], [1, \"form-group\"], [\"for\", \"mTitle\"], [\"required\", \"\", \"type\", \"text\", \"id\", \"mTitle\", \"name\", \"title\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"mDescription\"], [\"required\", \"\", \"type\", \"text\", \"id\", \"mDescription\", \"name\", \"description\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"mUrl\"], [\"required\", \"\", \"type\", \"text\", \"id\", \"mUrl\", \"name\", \"url\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"mColor\"], [\"required\", \"\", \"id\", \"mColor\", \"name\", \"color\", 1, \"select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngStyle\", \"value\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"hidden\", \"\", \"name\", \"id\", 3, \"value\"], [1, \"form-group\", \"align-center\"], [1, \"button\"], [3, \"ngStyle\", \"value\", \"selected\"]],\n  template: function EditMarkComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0, 1);\n      i0.ɵɵlistener(\"ngSubmit\", function EditMarkComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.updateMarkSubmited();\n      });\n      i0.ɵɵelementStart(2, \"h3\", 2);\n      i0.ɵɵtext(3, \"Edit Mark\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n      i0.ɵɵtext(6, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function EditMarkComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.mark.title = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 3)(9, \"label\", 6);\n      i0.ɵɵtext(10, \"description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function EditMarkComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.mark.description = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 3)(13, \"label\", 8);\n      i0.ɵɵtext(14, \"Url\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function EditMarkComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.mark.url = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 3)(17, \"label\", 10);\n      i0.ɵɵtext(18, \"Color\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"select\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function EditMarkComponent_Template_select_ngModelChange_19_listener($event) {\n        return ctx.mark.color = $event;\n      });\n      i0.ɵɵtemplate(20, EditMarkComponent_option_20_Template, 2, 6, \"option\", 12);\n      i0.ɵɵpipe(21, \"keyvalue\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(22, \"input\", 13);\n      i0.ɵɵelementStart(23, \"div\", 14)(24, \"button\", 15);\n      i0.ɵɵtext(25, \"Save\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.mark.title);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.mark.description);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.mark.url);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.mark.color);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(21, 6, ctx.colors));\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.mark == null ? null : ctx.mark._id);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgStyle, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i2.KeyValuePipe],\n  styles: [\".form-section[_ngcontent-%COMP%] {\\n  padding: 90px 50px;\\n  box-shadow: 0px 0px 20px 7px #cccccc;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtbWFyay5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0Esb0NBQUE7QUFDRiIsImZpbGUiOiJlZGl0LW1hcmsuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1zZWN0aW9uIHtcclxuICBwYWRkaW5nOiA5MHB4IDUwcHg7XHJcbiAgYm94LXNoYWRvdzogMHB4IDBweCAyMHB4IDdweCAjY2NjY2NjO1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":";AAGA,SAASA,MAAT,QAAuB,qBAAvB;;;;;;;;;;;;;;;ICcMC;IACEA;IACFA;;;;;;IAFkFA;IAA1EA,qEAAiC,UAAjC,EAAiC,mEAAjC;IACNA;IAAAA;;;;ADRR,OAAM,MAAOC,iBAAP,CAAwB;EAW5BC,YACUC,UADV,EACyC;IAA/B;IATH,YAAkB;MACvBC,GAAG,EAAE,EADkB;MAEvBC,KAAK,EAAC,EAFiB;MAGvBC,WAAW,EAAC,EAHW;MAIvBC,KAAK,EAAC,EAJiB;MAKvBC,GAAG,EAAC,EALmB;MAMvBC,UAAU,EAAC;IANY,CAAlB;IAWA,cAASV,MAAT;EADF;;EAGLW,QAAQ;IACN,KAAKP,UAAL,CAAgBQ,sBAAhB,GAAyCC,SAAzC,CAAmDC,IAAI,IAAG;MACxD,KAAKC,IAAL,GAAYD,IAAZ;MACAE,OAAO,CAACC,GAAR,CAAY,KAAKF,IAAjB;IACD,CAHD;EAID;;EAEYG,kBAAkB;IAAA;;IAAA;MAC7B,IAAG,KAAI,CAACC,IAAL,CAAUC,KAAb,EAAmB;QACjB,MAAMd,KAAK,GAAG,KAAI,CAACa,IAAL,CAAUE,KAAV,CAAgBf,KAA9B;QACA,MAAMC,WAAW,GAAG,KAAI,CAACY,IAAL,CAAUE,KAAV,CAAgBd,WAApC;QACA,MAAMC,KAAK,GAAG,KAAI,CAACW,IAAL,CAAUE,KAAV,CAAgBb,KAA9B;QACA,MAAMC,GAAG,GAAG,KAAI,CAACU,IAAL,CAAUE,KAAV,CAAgBZ,GAA5B;QACA,MAAMJ,GAAG,GAAG,KAAI,CAACc,IAAL,CAAUE,KAAV,CAAgBC,EAA5B;QACA,MAAM,KAAI,CAAClB,UAAL,CAAgBmB,UAAhB,CAA2BlB,GAA3B,EAAgCC,KAAhC,EAAuCC,WAAvC,EAAmDE,GAAnD,EAAuDD,KAAvD,EAA8DgB,IAA9D,CAAmEV,IAAI,IAAG;UAC9E,IAAIA,IAAI,EAAET,GAAV,EAAe;YACb,KAAI,CAACD,UAAL,CAAgBqB,WAAhB,CAA4BX,IAA5B,EAAkC,QAAlC;UACD;QACF,CAJK,CAAN;MAMD,CAZD,MAYK;QACHE,OAAO,CAACC,GAAR,CAAY,eAAZ;MAED;IAhB4B;EAiB9B;;AAxC2B;;;mBAAjBf,mBAAiBD;AAAA;;;QAAjBC;EAAiBwB;EAAAC;IAAA;;;;;;;;;;;;;;;MCV9B1B;MAAMA;QAAA,OAAY2B,wBAAZ;MAAgC,CAAhC;MACJ3B;MAAqCA;MAASA;MAC9CA,+BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MACsBA;MAAKA;MACzBA;MAAsDA;QAAA;MAAA;MAAtDA;MAEFA,+BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MAC4BA;MAAWA;MACrCA;MAAOA;QAAA;MAAA;MAAPA;MAEFA,gCAAwB,EAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MACoBA;MAAGA;MACrBA;MAAiDA;QAAA;MAAA;MAAjDA;MAEFA,gCAAwB,EAAxB,EAAwB,OAAxB,EAAwB,EAAxB;MACsBA;MAAKA;MACzBA;MAAQA;QAAA;MAAA;MACNA;;MAGFA;MAGFA;MACAA,iCAAqC,EAArC,EAAqC,QAArC,EAAqC,EAArC;MACyBA;MAAIA;;;;MArB2BA;MAAAA;MAI/CA;MAAAA;MAI0CA;MAAAA;MAIzCA;MAAAA;MACsDA;MAAAA;MAM7CA;MAAAA","names":["Colors","i0","EditMarkComponent","constructor","appService","_id","title","description","color","url","categoryId","ngOnInit","getSelectedMarkForEdit","subscribe","data","mark","console","log","updateMarkSubmited","form","valid","value","id","updateMark","then","updateMarks","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\aamer\\Desktop\\cambium\\bookmarking-app\\src\\app\\components\\edit-mark\\edit-mark.component.ts","C:\\Users\\aamer\\Desktop\\cambium\\bookmarking-app\\src\\app\\components\\edit-mark\\edit-mark.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { BookMark } from '../../models/bookmarking.interface';\nimport { AppServicesService } from '../../services/app-services.service';\nimport { Colors } from '../../models/colors';\n\n@Component({\n  selector: 'app-edit-mark',\n  templateUrl: './edit-mark.component.html',\n  styleUrls: ['./edit-mark.component.scss']\n})\nexport class EditMarkComponent implements OnInit {\n\n  @ViewChild('f') form : any;\n  public mark : BookMark = {\n    _id: \"\",\n    title:\"\",\n    description:\"\",\n    color:\"\",\n    url:\"\",\n    categoryId:\"\"\n  }\n  constructor(\n    private appService : AppServicesService\n  ) { }\n  public colors = Colors\n\n  ngOnInit(): void {\n    this.appService.getSelectedMarkForEdit().subscribe(data => {\n      this.mark = data;\n      console.log(this.mark)\n    })\n  }\n\n  public async updateMarkSubmited(): Promise<void> {\n    if(this.form.valid){\n      const title = this.form.value.title\n      const description = this.form.value.description\n      const color = this.form.value.color\n      const url = this.form.value.url\n      const _id = this.form.value.id\n      await this.appService.updateMark(_id ,title, description,url,color).then(data => {\n        if (data?._id) {\n          this.appService.updateMarks(data, 'update')\n        }\n      })\n\n    }else{\n      console.log('not valid !!!')\n\n    }\n  }\n\n}\n","<form (ngSubmit)=\"updateMarkSubmited()\" class=\"form-section\" #f=\"ngForm\">\n  <h3 class=\"text-center header-title\">Edit Mark</h3>\n  <div class=\"form-group\">\n    <label for=\"mTitle\">Title</label>\n    <input required type=\"text\" id=\"mTitle\"  name=\"title\" [(ngModel)]=\"mark.title\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"mDescription\">description</label>\n    <input [(ngModel)]=\"mark.description\" required type=\"text\" id=\"mDescription\" name=\"description\" />\n  </div>\n  <div class=\"form-group\">\n    <label for=\"mUrl\">Url</label>\n    <input required type=\"text\" id=\"mUrl\" name=\"url\" [(ngModel)]=\"mark.url\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"mColor\">Color</label>\n    <select [(ngModel)]=\"mark.color\" required id=\"mColor\" name=\"color\" class=\"select\">\n      <option [ngStyle]=\"{'color':color.value}\" *ngFor=\"let color of colors | keyvalue\" value={{color.value}} [selected]=\"mark?.color === color.value\">\n        {{color.key}}\n      </option>\n    </select>\n    <!-- <input type=\"text\" id=\"fname\" name=\"fname\" placeholder=\"Color\"> -->\n  </div>\n  <input type=\"text\" value={{mark?._id}} hidden name=\"id\" />\n  <div class=\"form-group align-center\">\n    <button class=\"button\">Save</button>\n  </div>\n</form>\n"]},"metadata":{},"sourceType":"module"}