{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/aamer/Desktop/cambium/bookmarking-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { Colors } from '../../models/colors';\nlet EditMarkComponent = class EditMarkComponent {\n  constructor(appService) {\n    this.appService = appService;\n    this.mark = {\n      title: \"\",\n      description: \"\",\n      color: \"\",\n      url: \"\"\n    };\n    this.colors = Colors;\n  }\n\n  ngOnInit() {\n    this.appService.getSelectedMarkForEdit().subscribe(data => {\n      this.mark = data;\n      console.log(this.mark);\n    });\n  }\n\n  updateMarkSubmited() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.form.valid) {\n        const title = _this.form.value.title;\n        const description = _this.form.value.description;\n        const color = _this.form.value.color;\n        const url = _this.form.value.url;\n        const _id = _this.form.value.id;\n        yield _this.appService.updateMark(_id, title, description, url, color).then(data => {\n          if (data?._id) {\n            _this.appService.updateMarks(data, 'update');\n          }\n        });\n      } else {\n        console.log('not valid !!!');\n      }\n    })();\n  }\n\n};\n\n__decorate([ViewChild('f')], EditMarkComponent.prototype, \"form\", void 0);\n\nEditMarkComponent = __decorate([Component({\n  selector: 'app-edit-mark',\n  templateUrl: './edit-mark.component.html',\n  styleUrls: ['./edit-mark.component.scss']\n})], EditMarkComponent);\nexport { EditMarkComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,EAA4BC,SAA5B,QAA6C,eAA7C;AAGA,SAASC,MAAT,QAAuB,qBAAvB;AAOA,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAb,CAA8B;EAU5BC,YACUC,UADV,EACyC;IAA/B;IARH,YAAkB;MACvBC,KAAK,EAAC,EADiB;MAEvBC,WAAW,EAAC,EAFW;MAGvBC,KAAK,EAAC,EAHiB;MAIvBC,GAAG,EAAC;IAJmB,CAAlB;IAUA,cAASP,MAAT;EADF;;EAGLQ,QAAQ;IACN,KAAKL,UAAL,CAAgBM,sBAAhB,GAAyCC,SAAzC,CAAmDC,IAAI,IAAG;MACxD,KAAKC,IAAL,GAAYD,IAAZ;MACAE,OAAO,CAACC,GAAR,CAAY,KAAKF,IAAjB;IACD,CAHD;EAID;;EAEYG,kBAAkB;IAAA;;IAAA;MAC7B,IAAG,KAAI,CAACC,IAAL,CAAUC,KAAb,EAAmB;QACjB,MAAMb,KAAK,GAAG,KAAI,CAACY,IAAL,CAAUE,KAAV,CAAgBd,KAA9B;QACA,MAAMC,WAAW,GAAG,KAAI,CAACW,IAAL,CAAUE,KAAV,CAAgBb,WAApC;QACA,MAAMC,KAAK,GAAG,KAAI,CAACU,IAAL,CAAUE,KAAV,CAAgBZ,KAA9B;QACA,MAAMC,GAAG,GAAG,KAAI,CAACS,IAAL,CAAUE,KAAV,CAAgBX,GAA5B;QACA,MAAMY,GAAG,GAAG,KAAI,CAACH,IAAL,CAAUE,KAAV,CAAgBE,EAA5B;QACA,MAAM,KAAI,CAACjB,UAAL,CAAgBkB,UAAhB,CAA2BF,GAA3B,EAAgCf,KAAhC,EAAuCC,WAAvC,EAAmDE,GAAnD,EAAuDD,KAAvD,EAA8DgB,IAA9D,CAAmEX,IAAI,IAAG;UAC9E,IAAIA,IAAI,EAAEQ,GAAV,EAAe;YACb,KAAI,CAAChB,UAAL,CAAgBoB,WAAhB,CAA4BZ,IAA5B,EAAkC,QAAlC;UACD;QACF,CAJK,CAAN;MAMD,CAZD,MAYK;QACHE,OAAO,CAACC,GAAR,CAAY,eAAZ;MAED;IAhB4B;EAiB9B;;AAvC2B,CAA9B;;AAEkBU,YAAfzB,SAAS,CAAC,GAAD,CAAM;;AAFLE,iBAAiB,eAL7BH,SAAS,CAAC;EACT2B,QAAQ,EAAE,eADD;EAETC,WAAW,EAAE,4BAFJ;EAGTC,SAAS,EAAE,CAAC,4BAAD;AAHF,CAAD,CAKoB,GAAjB1B,iBAAiB,CAAjB;SAAAA","names":["Component","ViewChild","Colors","EditMarkComponent","constructor","appService","title","description","color","url","ngOnInit","getSelectedMarkForEdit","subscribe","data","mark","console","log","updateMarkSubmited","form","valid","value","_id","id","updateMark","then","updateMarks","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\aamer\\Desktop\\cambium\\bookmarking-app\\src\\app\\components\\edit-mark\\edit-mark.component.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { BookMark } from '../../models/bookmarking.interface';\nimport { AppServicesService } from '../../services/app-services.service';\nimport { Colors } from '../../models/colors';\n\n@Component({\n  selector: 'app-edit-mark',\n  templateUrl: './edit-mark.component.html',\n  styleUrls: ['./edit-mark.component.scss']\n})\nexport class EditMarkComponent implements OnInit {\n\n  @ViewChild('f') form : any;\n  public mark : BookMark = {\n    title:\"\",\n    description:\"\",\n    color:\"\",\n    url:\"\"\n\n  }\n  constructor(\n    private appService : AppServicesService\n  ) { }\n  public colors = Colors\n\n  ngOnInit(): void {\n    this.appService.getSelectedMarkForEdit().subscribe(data => {\n      this.mark = data;\n      console.log(this.mark)\n    })\n  }\n\n  public async updateMarkSubmited(): Promise<void> {\n    if(this.form.valid){\n      const title = this.form.value.title\n      const description = this.form.value.description\n      const color = this.form.value.color\n      const url = this.form.value.url\n      const _id = this.form.value.id\n      await this.appService.updateMark(_id ,title, description,url,color).then(data => {\n        if (data?._id) {\n          this.appService.updateMarks(data, 'update')\n        }\n      })\n\n    }else{\n      console.log('not valid !!!')\n\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}